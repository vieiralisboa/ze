// jQuery Plugin Uploader 1.0.0
"undefined"!=typeof jQuery.fn.uploader?console.log("jQuery.fn.uploader already exists!"):jQuery.fn.uploader=function(a){var c=this;c.length||($("<div>").attr("id","upload-files").append($("<h1>").html("Upload Files")).prependTo("body"),c=$("#upload-files"));a.url=a.url||"upload.php";$("<form>").attr({enctype:"multipart/form-data",action:a.url,method:"post"}).append('<input type="file" name="files" id="files" multiple />').append('<button type="submit" id="btn">Upload File</button>').appendTo(this);
var d=a.ajax||!0;$("#btn").hide();$("input[type=file]").change(function(b){b=this.files[this.files.length-1];if(!a.validate||a.validate(b))d?window.FormData?(formdata=new FormData,formdata.append("file",b),$.ajax({url:a.url,type:"POST",data:formdata,processData:!1,contentType:!1,success:a.success||function(){}})):$.ajax({url:a.url+"/"+$(this).val(),type:"POST",data:b,processData:!1,contentType:!1,success:a.success||function(){}}):$("#files").parent().submit()});return c};